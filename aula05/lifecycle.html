<html lang="pt-BR">

<head>
    <title>Aula 05 React(componente encapsulado)</title>
</head>

<body>
    <div id="root" style="background-color:grey"></div>

    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <!-- <script src="index.js"></script> -->

    <script type="text/babel">
 
class Clock extends React.Component{
   constructor(props){
       super(props);
       this.state ={date: new Date()}
   }

//Quando o componente é criado ou renderizado.   
   componentDidMount(){
    this.timerID = setInterval(
        ()=> this.tick(),
        1000
    );
   }
//    Quando o componente é removido.
   componentWillUnmount(){
      clearInterval(this.timerID);
   }

   tick(){
       this.setState({
           date: new Date()
       });
   }

    render(){
        return(
            <div>
               <h1>Relogio:</h1>
               <h2>{this.state.date.toLocaleTimeString()}</h2> 
            </div>
        );
    }
}
    ReactDOM.render(<Clock/>, document.getElementById('root'));
     
    </script>

</body>

</html>